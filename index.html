<!doctype html><html lang=en-us>
<head>
<meta name=generator content="Hugo 0.88.1">
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta http-equiv=x-ua-compatible content="IE=edge">
<style type=text/css>body{font-family:monospace}</style>
<title>Corner case</title>
<link rel=stylesheet href=./css/style.css>
<link rel=alternate type=application/rss+xml href=./index.xml title="Corner case">
</head>
<body>
<header>
=================<br>
== <a href=https://freizl.github.io/>Corner case</a> ==<br>
=================
<div style=float:right>Welcome to my new blog!</div><br>
<p>
<nav>
<a href=./><b>Start</b></a>.
</header>
<main>
<article>
<h1><a href=https://freizl.github.io/posts/hello-hugo/>Hello Hugo</a></h1>
<b><time>09/10/2021</time></b>
<div>
This is my first blog The content is generated from Org file.
</div>
</article>
<article>
<h1><a href=https://freizl.github.io/posts/notes-sf-bay-area-must-do-hiking/>Notes Sf Bay Area Must Do Hiking</a></h1>
<b><time>02/18/2015</time></b>
<a href=./tags/reading>reading</a>
<div>
Informations Administrations California State Parks East Bay Regional Park District Golden Gate National Recreation Area Midpeninsula Regional Open Space District Santa Clara County Parks and Recreation San Mateo County Parks Marin Municipal Water District Marin County Open Space District Geography Coast Ranges
Central Valley
subranges
Sonama Mayacamas Vaca mountains Diablo Range Santa Cruz Mountains Peaks
Mt. St. Helena Mt.
<a href=https://freizl.github.io/posts/notes-sf-bay-area-must-do-hiking/>Read more...</a>
</div>
</article>
<article>
<h1><a href=https://freizl.github.io/posts/improve-space-usage/>Improve Space Usage</a></h1>
<b><time>09/12/2012</time></b>
<a href=./tags/reading>reading</a>
<a href=./tags/haskell>haskell</a>
<div>
It is example from [programming in haskell] video lecture 12 by Eric M. I just like to know whether GHC profile tool could help to figure out such problem.
module Main where sumWith1 v [] = v sumWith1 v (x:xs) = sumWith1 (v+x) xs sumWith2 v [] = v sumWith2 v (x:xs) = (sumWith2 $! (v+x)) xs test = sumWith2 0 [1..20000000] main = print test
</div>
</article>
<article>
<h1><a href=https://freizl.github.io/posts/snaplet-request-local-state/>Snaplet Request Local State</a></h1>
<b><time>05/24/2012</time></b>
<a href=./tags/snap>snap</a>
<a href=./tags/snaplet>snaplet</a>
<div>
什么 Snaplet Snap 从 0.6 版本引入 Snaplet 这个设计，它使得 Web 应用什么可组合化，开发者可以设计许多独立的功能模块，或者说小的应用模块，然后通过组合以组建一个大型的应用。
详细资料请看这里1。
Request local state Request Local State 是 snaplet 的一个设计目标2。初识时并没引起什么关注，也是不太理解具体含义。最近在写 Snaplet-OAuth 的时候遇到问题，就是由于不知道这个东西的含义所造成的。
Snaplet-oauth-0.0.0 根据 Snaplet 的常规模式，定义一个 data type 用于保存相关信息，比如
data OAuthSnaplet = OAuthSnaplet { getOauth :: OAuth2 , getCodeParam :: BS.ByteString } class HasOauth b where oauthLens :: Lens b (Snaplet OAuthSnaplet) data OAuth2 = OAuth2 { oauthClientId :: BS.ByteString , oauthClientSecret :: BS.ByteString , oauthOAuthorizeEndpoint :: BS.ByteString , oauthAccessTokenEndpoint :: BS.
<a href=https://freizl.github.io/posts/snaplet-request-local-state/>Read more...</a>
</div>
</article>
<article>
<h1><a href=https://freizl.github.io/posts/chinese-tag-in-hakyll/>Chinese Tag In Hakyll</a></h1>
<b><time>04/26/2012</time></b>
<a href=./tags/hakyll>hakyll</a>
<a href=./tags/encoding>encoding</a>
<div>
此问题发生在 GHC &lt; 7.2.x 的环境，据说 7.2.x 已经修正了造成此原因的 bug(未验证)。
问题 Hakyll1会给每个标签单独生成一个 html，比如/foo.html/, 用来显示标签对应的所有文章。 然而当标签为中文时，文件名会是乱码，而非对应的中文标签名。
原因 造成问题是原因由于 Haskell 里写文件的方法。 如下所是，=writeFile=用 base 库里的=String=类型表示文件名， 这就限制其只能表示 ASC-II 字符集。
type FilePath = String writeFile :: FilePath -- ^ 文件名 -> String -- ^ 要写到文件的内容 -> IO () 一种解决办法 最直接的方式就是用类库 utf8-string2里的=encodeString=方法，现将文件名进行 encode 然后再调=writeFile=方法。比如
import qualified Codec.Binary.UTF8.String as UTF8 main = myWriteFile "新天地.html" "test" myWriteFile = writeFile . UTF8.encodeString 对应到 Hakyll, 就是将上述的改动加到这个文件里/src/Hakyll/Core/Writable.hs/.详见这里3.
再一种解决办法 hakyll goole groups 有人帖了他的一个解决方案，也是用 utf8-string 先 encode，但修改的地方不一样。详见此4。
<a href=https://freizl.github.io/posts/chinese-tag-in-hakyll/>Read more...</a>
</div>
</article>
<article>
<h1><a href=https://freizl.github.io/posts/confused-constructor-js/>Confused Constructor Js</a></h1>
<b><time>04/12/2012</time></b>
<a href=./tags/javascripts>javascripts</a>
<div>
Introduction I can not quite remember what happened when invoking new over a function. While I&rsquo;m looking at function init at jQuery source, the concern comes to me again.
Fourtunaly I think the answer at this1 thread turns out to be a quite clear explanation.
Just three things according to that answer.
Creates a new object. Its type is object. Sets this new object&rsquo;s internal, inaccessible, [[prototype]] property to be the constructor function&rsquo;s external, accessible, prototype object.
<a href=https://freizl.github.io/posts/confused-constructor-js/>Read more...</a>
</div>
</article>
<article>
<h1><a href=https://freizl.github.io/posts/git-one-commit/>Git One Commit</a></h1>
<b><time>04/12/2012</time></b>
<a href=./tags/git>git</a>
<div>
Play it new two files haiswu@haiswu-VirtualBox:~/github/haisheng-homepage/test$ echo "11111" > 1.txt haiswu@haiswu-VirtualBox:~/github/haisheng-homepage/test$ echo "22222" > 2.txt git-add haiswu@haiswu-VirtualBox:~/github/haisheng-homepage/test$ git add . haiswu@haiswu-VirtualBox:~/github/haisheng-homepage/test$ git st # On branch master # # Initial commit # # Changes to be committed: # (use "git rm --cached &lt;file>..." to unstage) # # new file: 1.txt # new file: 2.txt # no objects created yet haiswu@haiswu-VirtualBox:~/github/haisheng-homepage/test$ git rev-list --objects --all git-commit haiswu@haiswu-VirtualBox:~/github/haisheng-homepage/test$ git ci "first commit" [master (root-commit) 8ef1919] first commit 2 files changed, 2 insertions(+), 0 deletions(-) create mode 100644 1.
<a href=https://freizl.github.io/posts/git-one-commit/>Read more...</a>
</div>
</article>
<article>
<h1><a href=https://freizl.github.io/posts/notes-master-regexp/>Notes Master Regexp</a></h1>
<b><time>04/08/2012</time></b>
<a href=./tags/reading>reading</a>
<a href=./tags/regex>regex</a>
<div>
Notes Matching and Capture, or just not Capture (?:...) and (...) /i has no effect on the replacement text e.g. $var =~ s/\bJeff\b/Jeff/i; compare difference with: $var =~ s/\sJeff\s/Jeff/i; Automated Editing perl -p -i -e 's/sysread/read/g' file ? What is 'm' modifier $text =~ s/^$/&lt;p>/mg; Lookaround (?= ...) (?! ...) (?&lt;= ...) (?&lt;! ...) - lookaround does not consume text - (?=Jeffery)Jeff &lt;P61> - (?&lt;=\bJeff)(?=s\b) \G &lt;P128> X? ... Comments and Mode modifiers &lt;P133> (?
<a href=https://freizl.github.io/posts/notes-master-regexp/>Read more...</a>
</div>
</article>
<article>
<h1><a href=https://freizl.github.io/posts/notes-progit/>Notes Progit</a></h1>
<b><time>04/08/2012</time></b>
<a href=./tags/reading>reading</a>
<a href=./tags/git>git</a>
<div>
Chapter 9.3 refs refs/heads refs/tags [remote "origin"] url = ... fetch = +refs/heads/* : refs/remotes/origin/* ===> fetch all the references under "refs/heads" on the server and writes them to refs/remotes/origin locally Questions
What does &lsquo;git branch B_NAME&rsquo; actually do? What happened to HEAD when switching branch? Chapter 6 git add -i ### ### revision selection ### ^ ::= parent of something, only two format ^ and ^2 git log HEAD^2 git log d107aoeu^2 git log HEAD~3 git log master.
<a href=https://freizl.github.io/posts/notes-progit/>Read more...</a>
</div>
</article>
<article>
<h1><a href=https://freizl.github.io/posts/magic-monad-transformer/>Magic Monad Transformer</a></h1>
<b><time>04/07/2012</time></b>
<a href=./tags/monad>monad</a>
<a href=./tags/mtl>mtl</a>
<a href=./tags/haskell>haskell</a>
<div>
Monad-Transformer The code fragment below is from chapter 18 Monad Transform of 1.
When the first time I read this example, I was confused with how it is possible to use ask of MonadReader (line 6) and get of MonadState (line 13) functions in the same App Monad content.
The only reasonable explanation is that App is both MonadReader and MonadState. While looking at App type definition (line 1), seems it is not possible.
<a href=https://freizl.github.io/posts/magic-monad-transformer/>Read more...</a>
</div>
</article>
<div>
1 of 3
<a href=./page/2/>Next Page</a>
</div>
</main>
<footer>
<p>&copy; 2021 <a href=https://freizl.github.io/><b>Haisheng Wu</b></a>.
</p>
</footer>
</body>
</html>