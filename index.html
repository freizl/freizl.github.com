<!doctype html><html lang=en-us>
<head>
<meta name=generator content="Hugo 0.88.1">
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta http-equiv=x-ua-compatible content="IE=edge">
<style type=text/css>body{font-family:monospace}</style>
<title>Corner case</title>
<link rel=stylesheet href=./css/style.css>
<link rel=alternate type=application/rss+xml href=./index.xml title="Corner case">
</head>
<body>
<header>
=================<br>
== <a href=https://freizl.github.io/>Corner case</a> ==<br>
=================
<div style=float:right>Welcome to my new blog!</div><br>
<p>
<nav>
<a href=./><b>Start</b></a>.
</header>
<main>
<article>
<h1><a href=https://freizl.github.io/posts/hello-hugo/>Hello Hugo</a></h1>
<b><time>09/10/2021</time></b>
<div>
This is my first blog The content is generated from Org file.
</div>
</article>
<article>
<h1><a href=https://freizl.github.io/posts/improve-space-usage/>Improve Space Usage</a></h1>
<b><time>09/12/2012</time></b>
<a href=./tags/reading>reading</a>
<a href=./tags/haskell>haskell</a>
<div>
It is example from [programming in haskell] video lecture 12 by Eric M. I just like to know whether GHC profile tool could help to figure out such problem.
module Main where sumWith1 v [] = v sumWith1 v (x:xs) = sumWith1 (v+x) xs sumWith2 v [] = v sumWith2 v (x:xs) = (sumWith2 $! (v+x)) xs test = sumWith2 0 [1..20000000] main = print test
</div>
</article>
<article>
<h1><a href=https://freizl.github.io/posts/snaplet-request-local-state/>Snaplet Request Local State</a></h1>
<b><time>05/24/2012</time></b>
<a href=./tags/snap>snap</a>
<a href=./tags/snaplet>snaplet</a>
<div>
什么 Snaplet Snap 从 0.6 版本引入 Snaplet 这个设计，它使得 Web 应用什么可组合化，开发者可以设计许多独立的功能模块，或者说小的应用模块，然后通过组合以组建一个大型的应用。
详细资料请看这里1。
Request local state Request Local State 是 snaplet 的一个设计目标2。初识时并没引起什么关注，也是不太理解具体含义。最近在写 Snaplet-OAuth 的时候遇到问题，就是由于不知道这个东西的含义所造成的。
Snaplet-oauth-0.0.0 根据 Snaplet 的常规模式，定义一个 data type 用于保存相关信息，比如
data OAuthSnaplet = OAuthSnaplet { getOauth :: OAuth2 , getCodeParam :: BS.ByteString } class HasOauth b where oauthLens :: Lens b (Snaplet OAuthSnaplet) data OAuth2 = OAuth2 { oauthClientId :: BS.ByteString , oauthClientSecret :: BS.ByteString , oauthOAuthorizeEndpoint :: BS.ByteString , oauthAccessTokenEndpoint :: BS.
<a href=https://freizl.github.io/posts/snaplet-request-local-state/>Read more...</a>
</div>
</article>
<article>
<h1><a href=https://freizl.github.io/posts/chinese-tag-in-hakyll/>Chinese Tag In Hakyll</a></h1>
<b><time>04/26/2012</time></b>
<a href=./tags/hakyll>hakyll</a>
<a href=./tags/encoding>encoding</a>
<div>
此问题发生在 GHC &lt; 7.2.x 的环境，据说 7.2.x 已经修正了造成此原因的 bug(未验证)。
问题 Hakyll1会给每个标签单独生成一个 html，比如/foo.html/, 用来显示标签对应的所有文章。 然而当标签为中文时，文件名会是乱码，而非对应的中文标签名。
原因 造成问题是原因由于 Haskell 里写文件的方法。 如下所是，=writeFile=用 base 库里的=String=类型表示文件名， 这就限制其只能表示 ASC-II 字符集。
type FilePath = String writeFile :: FilePath -- ^ 文件名 -> String -- ^ 要写到文件的内容 -> IO () 一种解决办法 最直接的方式就是用类库 utf8-string2里的=encodeString=方法，现将文件名进行 encode 然后再调=writeFile=方法。比如
import qualified Codec.Binary.UTF8.String as UTF8 main = myWriteFile "新天地.html" "test" myWriteFile = writeFile . UTF8.encodeString 对应到 Hakyll, 就是将上述的改动加到这个文件里/src/Hakyll/Core/Writable.hs/.详见这里3.
再一种解决办法 hakyll goole groups 有人帖了他的一个解决方案，也是用 utf8-string 先 encode，但修改的地方不一样。详见此4。
<a href=https://freizl.github.io/posts/chinese-tag-in-hakyll/>Read more...</a>
</div>
</article>
<article>
<h1><a href=https://freizl.github.io/posts/confused-constructor-js/>Confused Constructor Js</a></h1>
<b><time>04/12/2012</time></b>
<a href=./tags/javascripts>javascripts</a>
<div>
Introduction I can not quite remember what happened when invoking new over a function. While I&rsquo;m looking at function init at jQuery source, the concern comes to me again.
Fourtunaly I think the answer at this1 thread turns out to be a quite clear explanation.
Just three things according to that answer.
Creates a new object. Its type is object. Sets this new object&rsquo;s internal, inaccessible, [[prototype]] property to be the constructor function&rsquo;s external, accessible, prototype object.
<a href=https://freizl.github.io/posts/confused-constructor-js/>Read more...</a>
</div>
</article>
<article>
<h1><a href=https://freizl.github.io/posts/git-one-commit/>Git One Commit</a></h1>
<b><time>04/12/2012</time></b>
<a href=./tags/git>git</a>
<div>
Play it new two files haiswu@haiswu-VirtualBox:~/github/haisheng-homepage/test$ echo "11111" > 1.txt haiswu@haiswu-VirtualBox:~/github/haisheng-homepage/test$ echo "22222" > 2.txt git-add haiswu@haiswu-VirtualBox:~/github/haisheng-homepage/test$ git add . haiswu@haiswu-VirtualBox:~/github/haisheng-homepage/test$ git st # On branch master # # Initial commit # # Changes to be committed: # (use "git rm --cached &lt;file>..." to unstage) # # new file: 1.txt # new file: 2.txt # no objects created yet haiswu@haiswu-VirtualBox:~/github/haisheng-homepage/test$ git rev-list --objects --all git-commit haiswu@haiswu-VirtualBox:~/github/haisheng-homepage/test$ git ci "first commit" [master (root-commit) 8ef1919] first commit 2 files changed, 2 insertions(+), 0 deletions(-) create mode 100644 1.
<a href=https://freizl.github.io/posts/git-one-commit/>Read more...</a>
</div>
</article>
<article>
<h1><a href=https://freizl.github.io/posts/magic-monad-transformer/>Magic Monad Transformer</a></h1>
<b><time>04/07/2012</time></b>
<a href=./tags/monad>monad</a>
<a href=./tags/mtl>mtl</a>
<a href=./tags/haskell>haskell</a>
<div>
Monad-Transformer The code fragment below is from chapter 18 Monad Transform of 1.
When the first time I read this example, I was confused with how it is possible to use ask of MonadReader (line 6) and get of MonadState (line 13) functions in the same App Monad content.
The only reasonable explanation is that App is both MonadReader and MonadState. While looking at App type definition (line 1), seems it is not possible.
<a href=https://freizl.github.io/posts/magic-monad-transformer/>Read more...</a>
</div>
</article>
<article>
<h1><a href=https://freizl.github.io/posts/bayesian-network-exe01/>Bayesian Network Exe01</a></h1>
<b><time>04/06/2012</time></b>
<a href=./tags/ai>AI</a>
<div>
Introduction AI Course Bayesian network excerice 01 resolution using enumeration method.
C 国家政策 U 学校政策 W 工作压力 B 身体状况 D 过劳死 Scenarios 已知 : Exercise01 求 : 当 学校政策＝＝ True 而且 工作压力 == True 时, 过劳死的概率. Resolution Value T:0.95 means True case with probability 0.95
Probability of C is omitted as it is not related. Even include C, the result should be same.
<a href=https://freizl.github.io/posts/bayesian-network-exe01/>Read more...</a>
</div>
</article>
<article>
<h1><a href=https://freizl.github.io/posts/bind-examples-in-javascripts/>Bind Examples In Javascripts</a></h1>
<b><time>04/06/2012</time></b>
<a href=./tags/javascripts>javascripts</a>
<div>
Defined a function var fn = function (x, y, z) { console.log("The value: ", this.shangHai); console.log("The sum is: ", x + y + z); }; Run it fn(1); -> Output
The value: undefined The sum is: NaN fn(1, 2, 3); -> Output:
The value: undefined The sum is: 6 Run it with bind Less fn.bind(null, 1, 2, 3); -> Output:
function () { [native code] } Hmm&mldr;, seems bind return a function rather apply the function and return value.
<a href=https://freizl.github.io/posts/bind-examples-in-javascripts/>Read more...</a>
</div>
</article>
<article>
<h1><a href=https://freizl.github.io/posts/export-orgmode-file-in-chinese/>Export Orgmode File In Chinese</a></h1>
<b><time>04/06/2012</time></b>
<a href=./tags/emacs>emacs</a>
<a href=./tags/latex>latex</a>
<div>
Introduction OrgMode is really cool and export context to latex then processed to PDF is quite straightforwards. However when working with Chinese characters, I need additional packages.
First of all, install the following packages. (I already install the texlive package)
apt-get install latex-cjk-chinese latex-cjk-xcjk texlive-xetex First solution Then in the org file, add the following latex options.
#+LaTeX_HEADER: \usepackage{CJK} #+LaTeX_HEADER: \begin{CJK}{UTF8}{gbsn} A littel drawback here is the \begin{CJK} is added as a header option whice due to it will not be closed when I checked with the tex output.
<a href=https://freizl.github.io/posts/export-orgmode-file-in-chinese/>Read more...</a>
</div>
</article>
<div>
1 of 3
<a href=./page/2/>Next Page</a>
</div>
</main>
<footer>
<p>&copy; 2021 <a href=https://freizl.github.io/><b>Haisheng Wu</b></a>.
</p>
</footer>
</body>
</html>