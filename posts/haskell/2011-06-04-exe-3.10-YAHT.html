<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></meta>
    <title>Happy Programming</title>
    <link rel="stylesheet" type="text/css" href="../../css/default.css"></link>
    <link href="http://fonts.googleapis.com/css?family=Droid+Sans|Ubuntu|Open+Sans" rel="stylesheet" type="text/css">
    <link rel="alternate" type="application/rss+xml" title="Haisheng's Blog" href="rss.xml"></link>
    <link rel="icon" type="image/png" href="../../images/favicon.ico"></link>
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-6496210-5']);
      _gaq.push(['_setDomainName', 'haisgwu.info']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>

  </head>
  <body>
    <div id="main">

      <div class="navbar-inner">
        <div class="container">
          <a class="brand" href="../../">Home</a>
          <!--           <a class="brand" href="/">Î»ome</a>  -->
        </div>
      </div>

      
      <div class="container">
        <div class="boxer">

  <h1>Exercise 3.10 of Yet another Haskell tutorial</h1>

  <div class="to-left">
    <small><a href="../../index.html">Back to Home</a></small>
  </div>
  <div class="to-right"><em>Haisheng, Wu on June  4, 2011</em>, Tags: <a href="../../tags/haskell.html">haskell</a></div>
  
  <div class="body clear">
  <h2 id="TOC">TOC</h2>

<p>The exercise asks writing a program that will repeatedly ask the user for numbers until she types in zero, at which point it will tell her the sum of all the numbers, the product of all the numbers, and, for each number, its factorial.</p>
<p>In the solution, I practice a idea that Monad is lazy as well. In other words, here, could generate a list of Monads then print out to console.</p>
<pre><code>&gt; main = do  
&gt;     xs &lt;- sgetline  
&gt;     mapM_ (\s -&gt; putStrLn s) (showSum xs : showProduct xs : (map showFactorial xs))
&gt;   where   
&gt;     showSum xs = &quot;The sum is: &quot; ++ (show . sum) xs
&gt;     showProduct xs = &quot;The product is: &quot; ++ (show . product) xs
&gt;     showFactorial xs = (show x) ++ &quot; factorial is: &quot; ++ (show . factorial) xs
&gt;       
&gt; sgetline :: IO [Int]  
&gt; sgetline = do  
&gt;     putStrLn &quot;Give me a number (or 0 to stop) :&quot;
&gt;     x &lt;- getLine 
&gt;     if x `elem` [&quot;&quot;, &quot;0&quot;] then -- isStringEmpty?? 
&gt;       do return [] 
&gt;       else  
&gt;       do xs &lt;- sgetline  
&gt;          return ((read x):xs)  
&gt;   
&gt; factorial n = product [1..n]</code></pre>
<p>Full code <a href="../../codes/yaht-3.10.lhs"><code>here</code></a>.</p>
  </div>
  
  <div class="to-left">
    <small><a href="../../index.html">Back to Home</a></small>
  </div>

  <div class="to-right">
    <small><a href="../../posts.html">View archive</a></small>
  </div>
  
  <div class="clear"></div>

</div>

      </div>

      <div class="footer clear">
        <p><a href="../../cv.html">about me</a> | <a target="_blank" href="https://github.com/freizl/haisheng-homepage/tree/master/src">source code</a> | site generated by <a href="http://github.com/jaspervdj/hakyll">hakyll</a></p>
      </div>

    </div>
  </body>
</html>
