<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="author" content="Haisheng, Wu" />
        <meta name="keywords" content="Haskell, JavaScript, Programming, Web" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
        <meta name="description" content="Haisheng programming life" />

        <title>Î» Corner - Exercise 3.10 of Yet another Haskell tutorial</title>
        <link rel="alternate" type="application/rss+xml" title="Haisheng's Blog" href="rss.xml" />
        <link rel="icon" type="image/png" href="../images/favicon.ico" />
        <link rel="stylesheet" type="text/css" href="../css/default.css" />
        <script>
         (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
             (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                                  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
         })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
         ga('create', 'UA-6496210-5', 'freizl.github.io');
         ga('send', 'pageview');
        </script>
    </head>

    <body>
        <div id="main">

            <nav>
                <a href="../" class>HOME</a>
                <span> / </span>
                <a href="../posts.html">POSTS</a>
            </nav>

            <div class="container">
                <div class="boxer">

    <h1>Exercise 3.10 of Yet another Haskell tutorial</h1>

    <div class="soft">
        <span>June  4, 2011, Tags: </span><a title="All pages tagged 'haskell'." href="../tags/haskell.html">haskell</a>
    </div>

    <div class="body clear">
        
<p>The exercise asks writing a program that will repeatedly ask the user for numbers until she types in zero, at which point it will tell her the sum of all the numbers, the product of all the numbers, and, for each number, its factorial.</p>
<p>In the solution, I practice a idea that Monad is lazy as well. In other words, here, could generate a list of Monads then print out to console.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>main <span class="ot">=</span> <span class="kw">do</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>    xs <span class="ot">&lt;-</span> sgetline</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mapM_</span> (\s <span class="op">-</span><span class="fu">putStrLn</span> s) (showSum xs <span class="op">:</span> showProduct xs <span class="op">:</span> (<span class="fu">map</span> showFactorial xs))</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">where</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    showSum xs <span class="ot">=</span> <span class="st">&quot;The sum is: &quot;</span> <span class="op">++</span> (<span class="fu">show</span> <span class="op">.</span> <span class="fu">sum</span>) xs</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>    showProduct xs <span class="ot">=</span> <span class="st">&quot;The product is: &quot;</span> <span class="op">++</span> (<span class="fu">show</span> <span class="op">.</span> <span class="fu">product</span>) xs</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>    showFactorial xs <span class="ot">=</span> (<span class="fu">show</span> x) <span class="op">++</span> <span class="st">&quot; factorial is: &quot;</span> <span class="op">++</span> (<span class="fu">show</span> <span class="op">.</span> factorial) xs</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="ot">sgetline ::</span> <span class="dt">IO</span> [<span class="dt">Int</span>]</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>sgetline <span class="ot">=</span> <span class="kw">do</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">putStrLn</span> <span class="st">&quot;Give me a number (or 0 to stop) :&quot;</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>    x <span class="ot">&lt;-</span> <span class="fu">getLine</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    <span class="kw">if</span> x <span class="ot">`elem`</span> [<span class="st">&quot;&quot;</span>, <span class="st">&quot;0&quot;</span>] <span class="kw">then</span> <span class="co">-- isStringEmpty??</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>      <span class="kw">do</span> <span class="fu">return</span> []</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>      <span class="kw">else</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>      <span class="kw">do</span> xs <span class="ot">&lt;-</span> sgetline</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>         <span class="fu">return</span> ((<span class="fu">read</span> x)<span class="op">:</span>xs)</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>factorial n <span class="ot">=</span> <span class="fu">product</span> [<span class="dv">1</span><span class="op">..</span>n]</span></code></pre></div>
<p>Full code <a href="../codes/yaht-3.10.lhs"><code>here</code></a>.</p>
    </div>

    <div class="clear"></div>

</div>

            </div>

            <footer>
                Copyright 2009-<script>document.write(new Date().getFullYear())</script> Haisheng Wu /
                <a href="https://github.com/freizl/">Github</a>
                <span> / </span>
                <a href="../rss.xml" type="application/rss+xml">RSS</a>
                <span> / site generated by </span>
                <a href="http://github.com/jaspervdj/hakyll">Hakyll</a>
            </footer>

        </div>
    </body>
</html>
