<!doctype html><html lang=en-us>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta http-equiv=x-ua-compatible content="IE=edge">
<style type=text/css>body{font-family:monospace}</style>
<title>Yet another Haskell toturial - Exercise 3</title>
<link rel=stylesheet href=../../css/style.css>
</head>
<body>
<header>
=================<br>
== <a href=https://freizl.github.io/>Corner case</a> ==<br>
=================
<div style=float:right>Welcome to my new blog!</div><br>
<p>
<nav>
<a href=../../><b>Start</b></a>.
</header>
<main>
<article>
<h1>Yet another Haskell toturial - Exercise 3</h1>
<b><time>06/04/2011</time></b>
<a href=../../tags/haskell>haskell</a>
<div>
<p>The exercise asks writing a program that will repeatedly ask the user
for numbers until she types in zero, at which point it will tell her the
sum of all the numbers, the product of all the numbers, and, for each
number, its factorial.</p>
<p>In the solution, I practice a idea that Monad is lazy as well. In other
words, here, could generate a list of Monads then print out to console.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-haskell data-lang=haskell>  main <span style=color:#f92672>=</span> <span style=color:#66d9ef>do</span>
      xs <span style=color:#f92672>&lt;-</span> sgetline
      mapM_ (<span style=color:#a6e22e>\</span>s <span style=color:#f92672>-</span>putStrLn s) (showSum xs <span style=color:#66d9ef>:</span> showProduct xs <span style=color:#66d9ef>:</span> (map showFactorial xs))
    <span style=color:#66d9ef>where</span>
      showSum xs <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;The sum is: &#34;</span> <span style=color:#f92672>++</span> (show <span style=color:#f92672>.</span> sum) xs
      showProduct xs <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;The product is: &#34;</span> <span style=color:#f92672>++</span> (show <span style=color:#f92672>.</span> product) xs
      showFactorial xs <span style=color:#f92672>=</span> (show x) <span style=color:#f92672>++</span> <span style=color:#e6db74>&#34; factorial is: &#34;</span> <span style=color:#f92672>++</span> (show <span style=color:#f92672>.</span> factorial) xs
  <span style=color:#f92672>&gt;</span>
  sgetline <span style=color:#f92672>::</span> <span style=color:#66d9ef>IO</span> [<span style=color:#66d9ef>Int</span>]
  sgetline <span style=color:#f92672>=</span> <span style=color:#66d9ef>do</span>
      putStrLn <span style=color:#e6db74>&#34;Give me a number (or 0 to stop) :&#34;</span>
      x <span style=color:#f92672>&lt;-</span> getLine
      <span style=color:#66d9ef>if</span> x `elem` [<span style=color:#e6db74>&#34;&#34;</span>, <span style=color:#e6db74>&#34;0&#34;</span>] <span style=color:#66d9ef>then</span> <span style=color:#75715e>-- isStringEmpty??</span>
        <span style=color:#66d9ef>do</span> return <span style=color:#66d9ef>[]</span>
        <span style=color:#66d9ef>else</span>
        <span style=color:#66d9ef>do</span> xs <span style=color:#f92672>&lt;-</span> sgetline
           return ((read x)<span style=color:#66d9ef>:</span>xs)
  <span style=color:#f92672>&gt;</span>
  factorial n <span style=color:#f92672>=</span> product [<span style=color:#ae81ff>1</span><span style=color:#f92672>..</span>n]
</code></pre></div><p>Full code <a href=../../codes/haskell/yaht-3.10.lhs>here</a>.</p>
</div>
</article>
</main>
<aside>
<div>
<div>
<h3>LATEST POSTS</h3>
</div>
<div>
<ul>
<li><a href=../../posts/hello-hugo/>Hello Hugo</a></li>
<li><a href=../../posts/improve-space-usage/>Improve Space Usage</a></li>
<li><a href=../../posts/snaplet-request-local-state/>Snaplet Request Local State</a></li>
<li><a href=../../posts/chinese-tag-in-hakyll/>Chinese Tag In Hakyll</a></li>
<li><a href=../../posts/confused-constructor-js/>Confused Constructor Js</a></li>
</ul>
</div>
</div>
</aside>
<footer>
<p>&copy; 2021 <a href=https://freizl.github.io/><b>Haisheng Wu</b></a>.
</p>
</footer>
</body>
</html>